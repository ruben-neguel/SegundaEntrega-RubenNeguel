---
import { todosLosAlojamientos } from '../../data/alojamientos';
import { todasLasGuias } from '../../data/guias';
import { Image } from 'astro:assets';

const refugioDestacado = todosLosAlojamientos.find(a => a.id.includes('arrayan'));
const guiaDestacada = todasLasGuias.find(g => g.id.includes('muelle'));
---

  <!-- Titulo -->
 <section class="py-20 bg-gradient-to-b from-emerald-50 to-white">
     <div class="max-w-7xl mx-auto px-6">
        
          <div class="text-center mb-12">
              <div class="inline-flex items-center justify-center bg-emerald-100 text-emerald-800 px-4 py-2 rounded-full mb-6">
                <span class="font-semibold tracking-wide">DESCUBRE LA ISLA</span>
              </div>
              <h2 class="text-3xl md:text-5xl font-bold text-gray-900 leading-tight mb-6">
                  Tu rincón en <span class="text-emerald-700">Chiloé</span>
              </h2>
              <p class="text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed">
                  Refugios acogedores y rutas auténticas, pensadas para que vivas la isla con alma.
              </p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

            <!-- Tarjeta de ambos -->
              {refugioDestacado && (
                  <a 
                      href={`/alojamientos/${refugioDestacado.id}/`} 
                      class="bg-white rounded-lg overflow-hidden shadow hover:shadow-lg transition-shadow group block"
                >
                      <div class="relative overflow-hidden aspect-[16/10]">
                          <Image 
                              src={refugioDestacado.imagen} 
                              alt={refugioDestacado.titulo}
                              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                              loading="lazy"
                              quality="mid"
                          />
                          {refugioDestacado.tag && (
                              <span class:list={["absolute top-3 right-3 text-white text-xs px-2.5 py-1 rounded-full font-semibold shadow", refugioDestacado.tag.color]}>
                                  {refugioDestacado.tag.texto}
                              </span>
                          )}
                      </div>
                      <div class="p-5">
                          <span class="text-xs font-bold text-green-700 uppercase tracking-wide">Tu refugio</span>
                          <h3 class="text-xl font-bold text-gray-900 mt-1 mb-2">{refugioDestacado.titulo}</h3>
                          <p class="text-sm text-gray-600 leading-relaxed line-clamp-2 mb-3">
                              {refugioDestacado.descripcion}
                          </p>
                          <div class="flex items-center text-green-700 text-sm font-semibold group-hover:gap-1 transition-all">
                             <span>Ver detalles</span>
                          </div>
                      </div>
                  </a>
              )}
  
              {guiaDestacada && (
                  <a 
                      href={`/guias/${guiaDestacada.id}/`} 
                      class="bg-white rounded-lg overflow-hidden shadow hover:shadow-lg transition-shadow group block"
                  >
                      <div class="relative overflow-hidden aspect-[16/10]">
                          <Image 
                              src={guiaDestacada.imagen} 
                              alt={guiaDestacada.titulo}
                              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                              loading="lazy"
                              quality="mid"
                          />
                          {guiaDestacada.dificultad && (
                              <span class="absolute top-3 right-3 bg-amber-500 text-white text-xs px-2.5 py-1 rounded-full font-semibold shadow">
                                  {guiaDestacada.dificultad}
                              </span>
                          )}
                      </div>
                      <div class="p-5">
                          <span class="text-xs font-bold text-amber-700 uppercase tracking-wide">Ruta recomendada</span>
                          <h3 class="text-xl font-bold text-gray-900 mt-1 mb-2">{guiaDestacada.titulo}</h3>
                          <p class="text-sm text-gray-600 leading-relaxed line-clamp-2 mb-3">
                              {guiaDestacada.descripcion}
                          </p>
                          <div class="flex items-center text-amber-700 text-sm font-semibold group-hover:gap-1 transition-all">
                              <span>Conocer ruta</span>
                          </div>
                      </div>
                  </a>
              )}
          </div>
      </div>
  </section>